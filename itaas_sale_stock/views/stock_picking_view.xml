<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_stock_picking_sale_form" model="ir.ui.view">
        <field name="name">stock.picking.sale.form</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">

            <xpath expr='//header' position='inside'>
                <button name="action_validate_delivered" states="sale" type="object" string="Delivery Validate"/>
            </xpath>

            <xpath expr='//sheet/h1' position='after'>
                <field name="is_validate_delivered" invisible="1"/>
                <field name="sale_id" invisible="1"/>
                <div class="o_td_label" colspan="2" attrs="{'invisible': ['|', ('state', 'in', ('done','cancel')),('sale_id', '=', False),('sale_id', '=', False)]}">
                    <label for="is_validate_delivered" string="Delivery Validate" style="font-weight:bold; color:green;" attrs="{'invisible': [('is_validate_delivered', '=', False)]}"/>
                    <label for="is_validate_delivered" string="Not Delivery Validate" style="font-weight:bold; color:red;" attrs="{'invisible': [('is_validate_delivered', '!=', False)]}"/>
                </div>
            </xpath>

            <xpath expr='//page/field[@name="move_ids_without_package"]/tree/field[@name="product_id"]' position='after'>
                <field name="bom_id" attrs="{'column_invisible': [('parent.sale_id', '=', False)]}" />
            </xpath>

            <xpath expr='//page/field[@name="move_ids_without_package"]/tree/field[@name="description_picking"]' position='replace'>
                <field name="name" string="Description" optional="hide"/>
            </xpath>

            <xpath expr='//page/field[@name="move_ids_without_package"]/form/group/field[@name="description_picking"]' position='replace'>
                <field name="name" string="Description"/>
            </xpath>

        </field>
    </record>

</odoo>